{% extends "base.html" %}
{% block content %}
<h1>Attendance Dashboard</h1>

<!-- Form for selecting class, subject, year, and month to fetch low attendance -->
<h3>Check Low Attendance</h3>
<div>
    <label for="class-select">Select Class:</label>
    <select id="class-select">
        <option value="">Select Class name</option>
        {% for class_name in class_names %}
        <option value="{{ class_name.name }}">{{ class_name.name }}</option>
        {% endfor %}
    </select>

    <label for="subject-select">Select Subject:</label>
    <select id="subject-select">
        <option value="">Select Subject</option>
        {% for subject in current_user.subjects %}
        <option value="{{ subject }}">{{ subject }}</option>
        {% endfor %}
    </select>

    <label for="year-select">Year:</label>
    <input type="number" id="year-select" value="">

    <label for="month-select">Month:</label>
    <input type="number" id="month-select" value="">

    <button id="fetch-low-attendance">Check Low Attendance</button>
</div>

<!-- Table to display students with low attendance -->
<h3>Students with Less than 50% Attendance</h3>
<table id="low-attendance-table" border="1">
    <thead>
        <tr>
            <th>Roll No</th>
            <th>Name</th>
            <th>Attendance (%)</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<!-- Form for populating dummy data -->
<h3>Populate Dummy Data</h3>
<div>
    <label for="dummy-class-select">Class:</label>
    <select id="dummy-class-select">
        <option value="">Select Class name</option>
        {% for class_name in class_names %}
        <option value="{{ class_name.name }}">{{ class_name.name }}</option>
        {% endfor %}
    </select>

    <label for="dummy-subject-select">Subject:</label>
    <select id="dummy-subject-select">
        <option value="">Select Subject</option>
        {% for subject in current_user.subjects %}
        <option value="{{ subject }}">{{ subject }}</option>
        {% endfor %}
    </select>

    <label for="days-input">Number of Days:</label>
    <input type="number" id="days-input" value="30">

    <button id="populate-dummy-data">Populate Dummy Data</button>
</div>

<script src="{{ url_for('static', filename='js/attendance_dashboard.js') }}"></script>
{% endblock %}
